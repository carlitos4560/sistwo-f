<form [formGroup]="form" novalidate (ngSubmit)="addPlato(form.value)">
  <mat-form-field hintLabel="Max 20 characters">
    <input matInput type="text"
           placeholder="Nombre"
           #input maxlength="20"
           formControlName="nombre">
    <!--<mat-error *ngIf="!form.controls['nombre'].required">-->
    <mat-hint align="end">{{input.value?.length || 0}}/20</mat-hint>
    <mat-error *ngIf="form.controls['nombre'].invalid">
      {{ getErrorNombre() }}
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <input matInput type="text"
           placeholder="Precio"
           formControlName="precio">
    <span matPrefix>$&nbsp;</span>
    <span matSuffix>.00</span>
    <!--<mat-error *ngIf="!form.controls['precio'].required">-->
    <mat-error *ngIf="form.controls['precio'].invalid">
      {{ getErrorPrecio() }}
    </mat-error>
  </mat-form-field>

  <mat-form-field hintLabel="Solo valores 1 o 2 o 4 o 8">
    <input matInput type="number"
           placeholder="Porcion"
           formControlName="porcion">
    <!--<mat-error *ngIf="!form.controls['porcion'].required">-->
    <mat-hint align="end"></mat-hint>
    <mat-error *ngIf="form.controls['porcion'].invalid">
      {{ getErrorPorcion() }}
    </mat-error>
    <!--<mat-error *ngIf="!form.controls['porcion'].pattern">
      {{ errors.porcion.pattern }}
    </mat-error>-->
  </mat-form-field>

  <mat-form-field hintLabel="Min 15 | Max 255 caracteres">
    <textarea matInput
              placeholder="Descripcion"
              matTextareaAutosize
              matAutosizeMinRows="1"
              matAutosizeMaxRows="5"
              #input maxlength="255"
              formControlName="descripcion"></textarea>
    <mat-hint align="end">{{input.value?.length || 0}}/255</mat-hint>
    <!--<mat-error *ngIf="!form.controls['descripcion'].required">
      {{ errors.descripcion.required }}
    </mat-error>-->
    <mat-error *ngIf="form.controls['descripcion'].invalid">
      {{ getErrorDescripcion() }}
    </mat-error>
  </mat-form-field>

  <input type="file" id="imagen" (change)="onFileChange($event)" #fileInput>
  <div *ngIf="form.controls['imagen'].invalid"> {{ getErrorImagen() }}</div>
  <button type="button" (click)="clearFile()">clear file</button>

  <button mat-raised-button
          color="primary"
          [disabled]="!form.valid">
    agregar plato
  </button>
</form>
